<html xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers" data-namespace-typo3-fluid="true">

	<f:layout name="Default"/>
	
	<f:section name="Main">
	    <f:if condition="{children}"> 
		    <f:if condition="{data.flexform_bgColor}">      
		        <f:then>
			    	<div class="bootstrapContainer t3up_3cols" style="background-color: {data.flexform_bgColor}">
				    	<f:if condition="{data.container} ='1'">
					    	 <f:then>
	                            <div class="container">
	                                    <f:render section="rows" arguments="{_all}"/>     
	                             </div>
					    	 </f:then>
					    	 <f:else>
			                     <f:render section="rows" arguments="{_all}"/>     
					    	 </f:else>
			    	     </f:if>
			    	</div>
		        </f:then>    
		        <f:else if="{data.flexform_bgImage}">
	                <div class="bootstrapContainer t3up_3cols" style="background-image: url({f:uri.image(src:'{data.flexform_bgImage}', treatIdAsReference:'1', cropVariant: 'default', height: '{dimensions.height}', maxHeight: '{data.imageheight}', width: '{dimensions.width}', maxWidth: '{data.imagewidth}')})">
	                    <f:if condition="{data.container} ='1'">
	                         <f:then>
	                            <div class="container">
	                                    <f:render section="rows" arguments="{_all}"/>     
	                             </div>
	                         </f:then>
	                         <f:else>
	                             <f:render section="rows" arguments="{_all}"/>     
	                         </f:else>
	                     </f:if>
	                </div>
		        </f:else>
		        <f:else>
	                <div class="bootstrapContainer t3up_3cols">
	                    <f:if condition="{data.container} ='1'">
	                         <f:then>
	                            <div class="container">
	                                    <f:render section="rows" arguments="{_all}"/>     
	                             </div>
	                         </f:then>
	                         <f:else>
	                             <f:render section="rows" arguments="{_all}"/>     
	                         </f:else>
	                     </f:if>
	                </div>
	            </f:else>
	       </f:if>
	    </f:if>
	</f:section>
	
	    <f:section name="rows">
	        <div class="row {data.flexform_valign} {data.flexform_halign}">
		         <f:for each="{children}" as="columns" key="rowNumber">
		           <f:if condition="{columns}">
		               <f:render partial="BootstrapGridsColumn" arguments="{contentElements: columns.101, class: '{data.flexform_Col1} {data.flexform_smCol1} {data.flexform_mdCol1} {data.flexform_lgCol1} {data.flexform_xlCol1} {data.flexform_col31class}', options: options, settings: settings}"/>
		               <f:render partial="BootstrapGridsColumn" arguments="{contentElements: columns.102, class: '{data.flexform_Col2} {data.flexform_smCol2} {data.flexform_mdCol2} {data.flexform_lgCol2} {data.flexform_xlCol2} {data.flexform_col32class}', options: options, settings: settings}"/>
		               <f:render partial="BootstrapGridsColumn" arguments="{contentElements: columns.103, class: '{data.flexform_Col3} {data.flexform_smCol3} {data.flexform_mdCol3} {data.flexform_lgCol3} {data.flexform_xlCol3} {data.flexform_col33class}', options: options, settings: settings}"/>
		           </f:if>
		        </f:for>
	        </div>
	    </f:section>
</html>